<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/chat.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

  

   <script src="https://www.gstatic.com/firebasejs/7.17.2/firebase-app.js"></script>
   <script src="https://www.gstatic.com/firebasejs/7.17.2/firebase-storage.js"></script>
   
   <script src="https://www.gstatic.com/firebasejs/7.17.2/firebase-auth.js"></script>
   <script src="https://www.gstatic.com/firebasejs/7.17.2/firebase-database.js"></script>

   
   <script src="https://www.gstatic.com/firebasejs/7.16.1/firebase-firestore.js"></script>
 



</head>
<body >
    <div class="container" >
        <div class="row no-gutters">

          <div class="col-md-4">
            <div class="settings-tray"  >
                <img id="fotoP" class ="profile-image" src="img/default_user.png" alt="Profile image">

                <span class="settings-tray--right float-right"> 
              
                    <button class="btn"><img src="img/contacts.svg" width="32" height="32" data-toggle="modal" data-target="#addContactos" > </button>
                    <button class="btn"><img src="img/login.png" width="32" height="32" data-toggle="modal" data-target="#login" > </button>                    
                    <button class="btn"><img src="img/menu.svg" width="32" height="32" data-toggle="modal" data-target="#staticBackdrop"> </button>
            
                </span>
            </div>
       
            <div id="listaContactos" data-spy="scroll">

            </div>  

             
           
        </div> 
        <div class="col-md-8">
          
            <div  class="settings-tray">
             
                <div id="headerContacto"  class="friend-drawer no-gutters friend-drawer--grey">
                   
                     
                   
                    
                     
                    <span class="settings-tray--right float-right">
                        
                      <img id="Logo" src="img/smartchat.png" width="50" height="50" > 
                     
                        <!--<button class="btn"><img src="img/cached.svg" width="32" height="32" > </button>
                          
                        
                        <button class="btn"><img src="img/contacts.svg" width="32" height="32" > </button>                      
                        <button class="btn" data-toggle= "modal" data-target="#menuModal" type="button"><img src="img/menu.svg" width="32" height="32" > </button>
                        <button class="btn"><img src="img/menu.svg" width="32" height="32" data-toggle="modal" data-target="#staticBackdrop"> </button> -->
            
                    </span>   

                  
                </div>
            </div>
          
         <div id="conversacion" class="paneles">

           <div class="chat-panel">
           
    
</div>

</div>   

<div class="row">
    <div class="col-12">
        <div class="chat-box-tray">
              
            <button class="btn"><img src="img/cached.svg" width="32" height="32" onclick="buscaConversacion()" title="Actualiza Chat"> </button>
            <input  id="digitarMensaje" type="text" placeholder="Digite el mensaje">   
            <button class="btn"><img src="img/microfono.svg" width="32" height="32" > </button>
            <button class="btn"><img src="img/send.svg" width="32" height="32" onclick="enviarChat()" > </button>
        </div>

    </div>

</div>

</div>


   <!---------------------------------------- Registro de Usuarios ----------------------------------------->

   <div class="modal fade" id="registro" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Registro de Usuarios</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            
            <input id="inputNombre" type="text" placeholder="Ingresa tu Nombre"class="form-control my-3" required> 
            <input id="inputEmail" type="email" placeholder="Ingresa tu correo"class="form-control my-3" required>
            <input id="inputPassword" type="password" placeholder="Ingresa contrasena" class="form-control my-3" required>
            
            <!--<button onclick="subirImagen()" class="btn btn-info">subir</button>
            <input type="file" id="foto" class="form-control my-3">
            <div class="row">
           <div class="col my-3 ">
            <div class="card">
              <div class="card body">
                <img id="image" class="rounded mx-auto d-block" >            
              </div>
            </div>
          </div>
   
          </div>-->

          
            <button onclick="registroUsuarios()" class="btn btn-info">Registrar</button>
            <!--<button onclick="crearPerfil()" class="btn btn-info">Perfil</button>-->
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Atrás</button>
          
        </div>
       <!-- <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Understood</button>
        </div> -->
      </div>
    </div>
  </div>


  <!--------------------------------------------- Opciones de Usuario ------------------------------------>

  <div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Opciones</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <a href="#"  data-toggle="modal" data-target="#registro" onclick="ocultarVentana()" >Registrar Usuario</a><br>
          
          <!--<a id="clickEditar" href="#"  data-toggle="modal" onclick="buscaPerfil('jerson_rod@yahoo.com')" data-target="#editarRegistro" > Editar Perfil</a><br>
          -->
          <div id="tablaEditar"> 

          </div>
          <!--
          <a href="#"  data-toggle="modal"  data-target="#cambiaClave" onclick="buscaPerfilClave('jerson_rod@yahoo.com')">Cambiar Contraseña</a>
          onclick="buscaPerfil('jerson_rod@yahoo.com')"-->
          <script>
            function ocultarVentana(){

              $("#staticBackdrop").modal("hide");
            }

          </script>


        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Atrás</button>
          
        </div>
      </div>
    </div>
  </div>

   <!-------------------------------------- Opciones de conexion de Usuarios ----------------------------------------->

   <div class="modal fade" id="login" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Conexión de Usuarios</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          
          <a href="#" data-toggle="modal" data-target="#loginApp" onclick="ocultarVentana1()" >Iniciar Sesión</a><br>         
          <a href="#"  data-toggle="modal" onclick="logout()" >Desconectarme</a>

          <script>
            function ocultarVentana1(){

              $("#login").modal("hide");
            }

          </script>
          
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Atrás</button>
          <!--<button type="button" class="btn btn-primary">Understood</button>-->
        </div>
      </div>
    </div>
  </div>


  <!------------------------------------ Editar Perfil de Usuarios------------------------------->

     <div class="modal fade" id="editarRegistro" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="staticBackdropLabel">Editar Perfil de Usuarios</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
              
              <input id="idcorreo" type="hidden" placeholder="Ingresa tu Nombre"class="form-control my-3"> 
              <input id="editNombre" type="text" placeholder="Ingresa tu Nombre"class="form-control my-3"> 
              <input id="editEmail" type="email" placeholder="Ingresa tu correo"class="form-control my-3">
             <!--<input id="inputPassword" type="password" placeholder="Ingresa contrasena" class="form-control my-3">-->
              
              <input type="file" id="foto2" class="form-control my-3">
              <div class="row">
             <div class="col my-3 ">
              <div class="card">
                <div class="card body">
                  <img id="image" class="rounded mx-auto d-block" width="125px" height="125px" >            
                </div>
              </div>
            </div>
     
            </div>
            
            <button onclick="subirImagen()" class="btn btn-primary">Subir Foto</button>
            <button onclick="borrarFoto()" class="btn btn-danger">Eliminar Foto</button>
            
              <button onclick="actualizaPerfil()" class="btn btn-info">Aplicar Cambios</button>
              
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Atrás</button>
            
          </div>
        </div>
      </div>
    </div>

    <!----------------------------------------LOGIN A LA APLICACION -------------------------------------->

    <div class="modal fade" id="loginApp" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="staticBackdropLabel">Acceder a la Aplicación</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
              
              <input id="loginEmail" type="email" placeholder="Ingresa tu correo"class="form-control my-3" required>
              <input id="loginPassword" type="password" placeholder="Ingresa contrasena" class="form-control my-3" required>
              
              <!--<button onclick="subirImagen()" class="btn btn-info">subir</button>
              <input type="file" id="foto" class="form-control my-3">
              <div class="row">
             <div class="col my-3 ">
              <div class="card">
                <div class="card body">
                  <img id="image" class="rounded mx-auto d-block" >            
                </div>
              </div>
            </div>
     
            </div>-->
  
            
              <button onclick="login()" class="btn btn-info">Accesar a la aplicacion</button>
              <!--<button onclick="crearPerfil()" class="btn btn-info">Perfil</button>-->
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Atrás</button>
            
          </div>
         <!-- <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Understood</button>
          </div> -->
        </div>
      </div>
    </div>
    
    
    <!----------------------------------------------------CAMBIO DE CONTRASEÑA-------------------------------------------->

    <div class="modal fade" id="cambiaClave" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="staticBackdropLabel">Cambiar Contraseña</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
              
              <input id="viewEmail" type="email" class="form-control my-3" readonly>
              <input id="idcorreoClave" type="hidden"  class="form-control my-3"> 
            
              <input id="currentPassword" type="password" placeholder="Ingresa contraseña actual" class="form-control my-3" autofocus>              
              <input id="newPassword" type="password" placeholder="Ingresa nueva contraseña" class="form-control my-3" required>
              <input id="confirmPassword" type="password" placeholder="Confirma nueva contraseña" class="form-control my-3" required>
            
              <button onclick="cambiaClave()" class="btn btn-info">Cambiar Contraseña</button>
              
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Atrás </button>
            
          </div>
    
        </div>
      </div>
    </div>
    
    
<!------------------------------------------------  Añadir contactos ----------------------------------------->

<div class="modal fade" id="addContactos" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Añadir Contactos</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="search-box">
          <div class="input-wrapper">
            <input type="text" placeholder="Buscar Contacto" id="buscarContacto">
              <button class="btn"><img src="img/search.svg" width="16" height="16" onclick="buscaContactos()"> </button>
              
          </div>
      </div>

<!--          <div class="form-group form-check">
            <input class="form-check-input" id="contactoBloqueado" type="checkbox" > 
            <label class="form-check-label" for="contactoBloqueado" > <strong> Bloquear Contacto </strong> </label>
       
           </div>-->


         
           <!--<div  class="modal-dialog modal-dialog-scrollable">-->
             
            <table class="table">
              <thead>
                  <tr>
                      <th scope="col">#</th>
                      <th scope="col">Nombre</th>
                  </tr>
              </thead>

              <tbody id="tablaContactos" >

              </tbody>


            </table>    

           
          <!--</div>-->
       
          <button onclick="buscaPosteados()" class="btn btn-info" >Añadir Contacto</button>
          
          <!--<button onclick="borraContactos()" class="btn btn-danger">Borrar Contacto</button>   addContactos()-->
          <!--<button onclick="crearPerfil()" class="btn btn-info">Perfil</button>  class="form-control my-3" -->
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Ir atrás</button>
        
      </div>
    
    </div>
  </div>
</div>

<!---------------------------------------- Eliminacion de Contactos ----------------------------------------->

<div class="modal fade" id="eliminar" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h6 class="modal-title" id="staticBackdropLabel">Desea eliminar este contacto</h6>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <a>Esta Seguro de Eliminar este Contacto?</a><br><br>
         
        
          <button onclick="borraContacto()" class="btn btn-info">Borrar Contacto</button>
          <!--<button onclick="crearPerfil()" class="btn btn-info">Perfil</button>-->
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Atrás</button>
        
      </div>
 
    </div>
  </div>
</div>




  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

   <!-- <source src="js/jquery-3.5.1.min.js">-->
    
    <script src="js/index.js"></script>

</body>
</html>
